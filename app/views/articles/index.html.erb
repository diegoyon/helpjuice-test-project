<p style="color: green"><%= notice %></p>

<h1>Articles</h1>

<%= form_with(url: articles_path, method: :get, data: { controller: "search-bar", turbo_frame: "articles", turbo_action: "advance"}) do |form| %>
  <%= form.label :query, "Search by title" %>
  <%= form.text_field :query, data: { action: "input->search-bar#search"} %>
  <%= form.submit "Search" %>

<% end %>

<%# <div id="articles"> %>
  <%# @articles.each do |article| %>
    <%#= render article %>
    <%# <p> %>
      <%#= link_to "Show this article", article %>
    <%# </p> %>
  <%# end %>
<%# </div> %>

<div>
  <%= render "articles", articles: @articles %>
</div>

<%= link_to "New article", new_article_path %>
